{% load static %}

<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>{{ doctor.name }} - {{ doctor.specialty }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="shortcut icon"
      type="image/png"
      href="{% static 'images/favicon.png' %}"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="{% static 'fonts/marvin/marvin.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-..."
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      body {
        font-family: sans-serif;
      }
    </style>
  </head>
  <body class="overflow-x-hidden">
    
    {% include 'doctors/components/navbar.html' %}
    
    <nav class="md:hidden bg-[#232323] text-white p-4 rounded-b-3xl">
      <div class="flex items-center justify-between">
        <a href="#">
          <img
            src="https://saude-kayamind-minio.aqrour.easypanel.host/kayadoc/staticfiles/images/rebranding/kaya%20doc%20branco.png"
            alt="Kaya Doc"
            class="h-10"
          />
        </a>

        <button
          id="menuBtn"
          class="p-2 text-gray-300 hover:text-[#e2f2b2]"
          onclick="toggleMobileMenu()"
        >
          <i class="fas fa-bars text-xl"></i>
        </button>
      </div>

      <div
        id="mobileMenu"
        class="hidden mt-4 rounded-xl border border-[#3c3c3c] p-4"
      >
        <div class="mb-4">
          <label class="block text-sm font-bold mb-1">Funcionalidades</label>
          <select
            class="w-full bg-[#758555] text-white px-4 py-2 rounded focus:outline-none"
          >
            <option>Selecione</option>
            <option>Descubra Novos Produtos</option>
            <option>Biblioteca de Estudos</option>
            <option>Webinars</option>
            <option>Copiloto</option>
            <option>Benefícios e Parcerias</option>
            <option>Prontuário</option>
            <option>Anamnese</option>
            <option>Agenda</option>
            <option>Perfil Público</option>
          </select>
        </div>

        <div class="mb-4">
          <label class="block text-sm font-bold mb-1">Paciente</label>
          <select
            class="w-full bg-[#758555] text-white px-4 py-2 rounded focus:outline-none"
          >
            <option>Selecione</option>
            <option>Médicos Prescritores</option>
            <option>Benefícios da Cannabis</option>
            <option>Glossário Canábico</option>
            <option>Blog da Saúde</option>
            <option>Condições Médicas</option>
          </select>
        </div>

        <div class="flex flex-col gap-3 mt-6">
          <a
            href="#"
            class="block text-center px-4 py-2 rounded-3xl bg-[#e2f2b2] text-[#252625] font-semibold hover:bg-[#252625] hover:text-[#e2f2b2]"
          >
            Teste grátis
          </a>

          <a
            href="#"
            class="block text-center px-4 py-2 rounded-3xl border border-[#e2f2b2] text-white hover:bg-[#e2f2b2] hover:text-[#252625]"
          >
            Login
          </a>
        </div>
      </div>
    </nav>

    <script>
      function toggleMobileMenu() {
        const mobileMenu = document.getElementById('mobileMenu');
        mobileMenu.classList.toggle('hidden');
      }
    </script>
    </nav>


    <main class="max-w-screen-xl mx-auto mt-24 px-4 2xl:px-0">
      <div class="relative">
        <div class="absolute z-0 w-full h-48 bg-[#ccec9c] rounded-t-3xl"></div>

        <div class="z-10 pt-24 relative">
          <div class="flex flex-col md:flex-row gap-8 px-4 md:px-12">
            <div class="flex justify-center md:block">
              <div
                class="w-40 md:w-52 h-40 md:h-52 rounded-full overflow-hidden ring-2 ring-white"
              >
                <img
                  src="{{ doctor.photo }}"
                  alt="{{ doctor.name }}"
                  class="object-cover w-full h-full"
                />
              </div>
            </div>

            <div class="text-center md:text-left">
              <h1 class="mb-3 text-2xl md:text-4xl font-bold pt-28">
                Dr. {{ doctor.name }}
              </h1>
              <div class="mb-3 text-gray-500">
                <h2 class="text-xl md:text-2xl font-bold">
                  {{ doctor.specialty }}
                </h2>
                <p class="text-sm md:text-base">{{ doctor.crm }}</p>
              </div>
              <div
                class="flex items-center justify-center md:justify-start px-3 py-1 mb-4 text-sm font-bold bg-gray-200 rounded-lg w-max mx-auto md:mx-0"
              >
                <i class="mr-2 text-gray-500 fa fa-map-marker-alt"></i>
                <p>{{ doctor.city }}, {{ doctor.uf }}</p>
              </div>

              <div class="flex gap-4 justify-center md:justify-start">
                {% if doctor.instagram %}
                <a
                  href="{{ doctor.instagram }}"
                  target="_blank"
                  class="text-gray-500 hover:text-gray-700"
                >
                  <i class="fab fa-instagram fa-2x"></i>
                </a>
                {% endif %} {% if doctor.facebook %}
                <a
                  href="{{ doctor.facebook }}"
                  target="_blank"
                  class="text-gray-500 hover:text-gray-700"
                >
                  <i class="fab fa-facebook fa-2x"></i>
                </a>
                {% endif %}
              </div>
            </div>

            <div
              class="flex flex-col md:flex-row text-sm text-gray-500 mt-0 pb-16 md:mt-0 md:ms-auto gap-4 justify-start md:justify-end"
            >
              <div class="flex items-center justify-center">
                <span class="text-yellow-400">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </span>
                <span class="hidden ml-2 text-gray-500">
                  ({{ doctor.reviews_count }} avaliações)
                </span>
              </div>
              <div class="flex items-center justify-center">
                <i class="fa fa-eye ml-4"></i>
                <span class="ml-2">{{ doctor.views }} visualizações</span>
              </div>
              <div class="flex items-center justify-center">
                <i class="fa fa-heart text-gray-400"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="flex flex-col md:flex-row mt-8">
        <div class="w-full md:w-1/2 md:pl-12 px-4 md:px-0">
          <div class="mb-8">
            <h3 class="mb-3 text-2xl md:text-3xl font-bold">Descrição</h3>
            <p class="text-gray-600 whitespace-pre-line">
              {{ doctor.description }}
            </p>
          </div>

          <div class="mb-8">
            <h3 class="mb-3 text-2xl md:text-3xl font-bold">
              Informações gerais
            </h3>
            <ul class="space-y-4 text-gray-600">
              <li>
                <h4 class="text-lg md:text-xl font-bold">Patologias</h4>
                <p class="text-sm md:text-base">{{ doctor.patologias }}</p>
              </li>
              <li>
                <h4 class="text-lg md:text-xl font-bold">Atendimento</h4>
                <p class="text-sm md:text-base">{{ doctor.atendimento }}</p>
              </li>
              <li>
                <h4 class="text-lg md:text-xl font-bold">Aceita Convênio</h4>
                <p class="text-sm md:text-base">{{ doctor.convenio }}</p>
              </li>
              <li>
                <h4 class="text-lg md:text-xl font-bold">
                  Retorno e Acompanhamento
                </h4>
                <p class="text-sm md:text-base">{{ doctor.retorno_info }}</p>
              </li>
              <li>
                <h4 class="text-lg md:text-xl font-bold">
                  Experiência com prescrição de produtos à base de cannabis
                </h4>
                <p class="text-sm md:text-base">{{ doctor.experiencia }}</p>
              </li>
            </ul>
          </div>

          <div class="mb-8">
            <h3 class="mb-3 text-2xl md:text-3xl font-bold">Formação</h3>
            <ul class="space-y-4 text-gray-600">
              {% for formacao in doctor.formacao %}
              <li>
                <h4 class="text-lg md:text-xl font-bold">
                  {{ formacao.instituicao }}
                </h4>
                <p class="text-sm md:text-base">{{ formacao.descricao }}</p>
              </li>
              {% endfor %}
            </ul>
          </div>

          {% if doctor.video_url %}
          <div class="my-10">
            <iframe
              src="{{ doctor.video_url }}"
              title="Apresentação do médico"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              class="w-full h-64"
            ></iframe>
          </div>
          {% endif %}
        </div>

        <div class="w-full md:w-1/2 md:pr-12 px-4 md:px-0 mt-8 md:mt-0">
          <div class="bg-gray-100 p-6 rounded-xl">
            <h3 class="mb-4 text-2xl font-bold">Agenda</h3>
            <p class="text-gray-600">Em breve...</p>
          </div>
        </div>
      </div>
    </main>

    {% include 'doctors/components/footer.html' %}

    <script>
      window.addEventListener('scroll', function () {
        const navbar = document.querySelector('nav');
        if (window.scrollY > 0) {
          navbar.classList.add('opacity-80');
        } else {
          navbar.classList.remove('opacity-80');
        }
      });
    </script>
  </body>
</html>
