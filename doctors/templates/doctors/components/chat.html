{% load static %}

<div
  id="chatWidget"
  class="fixed bottom-6 right-6 z-50 flex flex-col items-start"
>
  <div
    id="chatBox"
    class="hidden flex flex-col w-80 h-96 bg-white rounded-xl shadow-xl overflow-hidden mb-3"
  >
    <div class="flex items-center p-3 bg-[#f2f2f2]">
      <img
        src="{% static 'images/logo-chat.png' %}"
        alt="Kaya Doc Logo"
        class="h-8 w-8 mr-2"
      />
      <div>
        <h2 class="text-sm font-bold">Suporte Kaya Doc</h2>
        <p class="text-xs text-gray-500">
          Estaremos de volta on-line na Segunda-Feira
        </p>
      </div>
    </div>
    <div class="flex-1 p-3 text-sm text-gray-700 overflow-auto">
      <p>Estamos ausentes no momento</p>
      <p class="mt-1">Estaremos de volta on-line na Segunda-Feira</p>
      <a href="#" class="text-blue-500 hover:underline block mt-4"
        >Iniciar Conversa &rarr;</a
      >
    </div>
    <div class="p-2 text-xs text-gray-400 bg-[#f2f2f2] text-center">
      Desenvolvido por Chatwoot
    </div>
  </div>

  <button
    id="chatToggleBtn"
    class="bg-[#e4b4cc] w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg"
  >
    <i class="fa fa-comments text-xl"></i>
  </button>
</div>

<script>
  const chatBox = document.getElementById('chatBox');
  const chatToggleBtn = document.getElementById('chatToggleBtn');
  let isOpen = false;

  chatToggleBtn.addEventListener('click', () => {
    isOpen = !isOpen;
    if (isOpen) {
      chatBox.classList.remove('hidden');
    } else {
      chatBox.classList.add('hidden');
    }
  });
</script>
